<form action="">
  <div
    class="modal fade"
    id="add-comment-modal"
    tabindex="-1"
    aria-labelledby="add-comment-title"
    aria-hidden="true"
  >
    <div
      class="modal-dialog modal-fullscreen-sm-down modal-dialog-centered modal-dialog-scrollable"
    >
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="add-comment-title">
            <div class="align-content-center d-flex" style="gap: 1rem">
              <i class="bi bi-chat-square-text-fill"></i>
              <p data-type="Comment">Add Comment</p>
            </div>
          </h5>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">
          <label for="modal-comment-title" class="form-label"
            >Comment Title</label
          >
          <select
            id="modal-comment-title"
            class="form-select"
            aria-label="Comment Title"
          >
            <option selected>Comment Title 1</option>
            <option value="1">One</option>
            <option value="2">Two</option>
            <option value="3">Three</option>
          </select>
          <label for="modal-comment-text">Comment</label>
          <textarea class="form-control" id="modal-comment-text"></textarea>
        </div>
        <div class="modal-footer">
          <button
            type="reset"
            class="btn btn-secondary"
            data-bs-dismiss="modal"
          >
            Close
          </button>
          <button type="submit" class="btn btn-primary">Add Comment</button>
        </div>
      </div>
    </div>
  </div>
</form>
<!-- Add this script after the HTML content -->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    // Get all the comment card elements
    const commentCards = document.querySelectorAll(".card");

    // Get the input elements in the modal
    const modalCommentTitleSelect = document.getElementById(
      "modal-comment-title"
    );
    const modalCommentTextInput = document.getElementById("modal-comment-text");
    const modalHeader = document
      .getElementById("add-comment-modal")
      .querySelector(".modal-title p[data-type]");

    // Add click event listener to each comment card
    commentCards.forEach((commentCard) => {
      commentCard.addEventListener("click", function () {
        // Get the data attributes from the clicked comment card
        const commentId = commentCard.getAttribute("data-comment-id");
        const commentTitle = commentCard.getAttribute("data-comment-title");
        const commentText = commentCard.getAttribute("data-comment-text");

        // Update the modal's input values with the comment details
        modalCommentTitleSelect.value = commentTitle;
        modalCommentTextInput.value = commentText;
        modalHeader.innerHTML = "Edit Comment";

        // Check if the selected value exists in the options
        const optionExists = [...modalCommentTitleSelect.options].some(
          (option) => option.value === commentTitle
        );

        // If the selected value doesn't exist, create a new option and select it
        if (!optionExists) {
          const newOption = new Option(commentTitle, commentTitle);
          modalCommentTitleSelect.add(newOption);
          modalCommentTitleSelect.value = commentTitle;
        }
      });
    });
  });
</script>
